{"version":3,"sources":["../../src/pages/notification/notification.module.ts","../../src/pages/notification/notification.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NotificationPage } from './notification';\n\n@NgModule({\n  declarations: [\n    NotificationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NotificationPage),\n  ],\n})\nexport class NotificationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ModalController, Events } from 'ionic-angular';\nimport { UserManagerProvider } from '../../providers/user-manager/user-manager';\nimport { CommonProvider } from '../../providers/common/common';\nimport { Storage } from '@ionic/storage';\nimport { CallNumber } from '@ionic-native/call-number';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-notification',\n  templateUrl: 'notification.html',\n})\nexport class NotificationPage {\n\n  public isRecAvailable:boolean=true;\n  private listData:any;\n  private infiniteScrollComplete:any;\n  private paged:any;\n\n  constructor(\n    public navCtrl: NavController,\n    private storage:Storage,\n    private userManager:UserManagerProvider,\n    private common:CommonProvider,\n    public alertCtrl: AlertController,\n    private ev:Events,\n    private callNumber: CallNumber,\n    public navParams: NavParams,\n    private modalCtrl: ModalController) {\n  }\n\n  ionViewDidLoad() {\n    this.isRecAvailable = true;\n    this.paged = 1;\n    let result:any;\n    let postData = {page:this.paged,limit:20}\n    this.common.showLoading();\n    this.userManager.getAppointment(postData)\n    .then((res)=>{\n         console.log(res);\n         result = res;\n         //-------------------\n         if(result.status){\n           this.listData = result.data;\n           this.paged++;\n\n           if(this.paged==2){\n             if(result.total_appointments!='' && typeof(result.total_appointments)!='undefined'){\n               this.storage.set(\"total_appointments\",result.total_appointments)\n               .then((res)=>{\n                  this.ev.publish('check_appointments',result.total_appointments);\n                  this.ev.publish('clearNotification',{});\n               });\n             }\n           }\n\n         }else{\n           this.isRecAvailable = false;\n           if(this.paged==1 && !result.loginstatus && typeof(result.loginstatus)!='undefined'){\n               this.storage.set(\"userData\",'');\n               this.navCtrl.push('LoginPage');\n               this.common.showAlert(result.msg);\n           }\n         }\n         this.common.hideLoading();\n         //--------------------\n     }, err=> {\n       if(this.paged==1)this.isRecAvailable = false;\n       this.common.hideLoading();\n       this.common.showError(err);\n     });\n  }\n\n  doRefresh(refresher){\n    //console.log('ref',ref);\n    this.listData = [];\n    let result:any;\n    this.paged = 1;\n    this.isRecAvailable = true;\n    this.infiniteScrollComplete = false;\n    let postData = {page:this.paged,limit:20}\n    this.userManager.getAppointment(postData).then((res)=>{\n        result = res;\n        if(result.status){\n            this.paged++;\n            this.listData = this.listData.concat(result.data);\n        }else{\n            this.isRecAvailable = false;\n            this.infiniteScrollComplete = true;\n        }\n          refresher.complete();\n    }, err=> {\n      refresher.complete();\n      if(this.paged==1)this.isRecAvailable = false;\n      this.common.showError(err);\n    });\n\n  }\n\n  callMember(phone){\n    this.callNumber.callNumber(phone, true)\n    .then(() => console.log('Launched dialer!'))\n    .catch(() => console.log('Error launching dialer'));\n  }\n\n\n  goToNotification(notificationData){\n    let notificationModal = this.modalCtrl.create('NotificationDetailPage',{notificationData:notificationData});\n    notificationModal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.ts"],"sourceRoot":""}